{"ast":null,"code":"import React,{useContext,useState,useEffect}from\"react\";import personallyLogo from'../images/personally-logo.svg';import{Link,Routes,Route,BrowserRouter,Navigate}from\"react-router-dom\";import{HashLink}from'react-router-hash-link';import'../styles/Header.css';import{AuthContext}from\"../providers/auth-provider\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=()=>{const authContext=useContext(AuthContext);const user=authContext===null||authContext===void 0?void 0:authContext.user;const signIn=authContext===null||authContext===void 0?void 0:authContext.signIn;const signOut=authContext===null||authContext===void 0?void 0:authContext.signOut;const[userGreeting,setUserGreeting]=useState(null);const[loginBtnText,setLoginBtnText]=useState(\"Log In\");useEffect(()=>{if(user){setUserGreeting(\"Hello \".concat(user.userName));setLoginBtnText(\"Log Out\");}else{setUserGreeting(null);setLoginBtnText(\"Log In\");}},[user]);const handleLoginClick=()=>{if(user){// User is already logged in, so log them out\nsignOut();}else{// User is not logged in, initiate the login process\nsignIn();}};return/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsxs(\"nav\",{className:\"header-nav\",children:[/*#__PURE__*/_jsx(\"img\",{src:personallyLogo,alt:\"Personally Logo\",className:\"icon\"}),/*#__PURE__*/_jsx(\"span\",{className:\"userSpanName\",children:userGreeting}),/*#__PURE__*/_jsxs(\"ul\",{className:\"ul-nav\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"li-nav\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"link-nav\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"li-nav\",children:/*#__PURE__*/_jsx(Link,{to:\"/posts\",className:\"link-nav\",children:\"Posts\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"li-nav\",children:/*#__PURE__*/_jsx(Link,{to:\"/about\",className:\"link-nav\",children:\"About\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"li-nav\",children:/*#__PURE__*/_jsx(Link,{to:\"/contact\",className:\"link-nav\",children:\"Contact\"})}),user&&user.userName&&/*#__PURE__*/_jsx(\"li\",{className:\"li-nav\",children:/*#__PURE__*/_jsx(Link,{to:\"/admin\",className:\"link-nav\",children:\"Admin\"})})]}),/*#__PURE__*/_jsx(HashLink,{smooth:true,to:\"#subscribe\",className:\"link-nav\",children:/*#__PURE__*/_jsx(\"button\",{className:\"submitBtn\",type:\"button\",children:\"Subscribe\"})}),user?/*#__PURE__*/_jsx(\"button\",{className:\"submitBtn\",type:\"button\",onClick:handleLoginClick,children:loginBtnText}):/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"link-nav\",children:/*#__PURE__*/_jsx(\"button\",{className:\"submitBtn\",type:\"button\",children:loginBtnText})})]})});};export default Header;","map":{"version":3,"names":["React","useContext","useState","useEffect","personallyLogo","Link","Routes","Route","BrowserRouter","Navigate","HashLink","AuthContext","jsx","_jsx","jsxs","_jsxs","Header","authContext","user","signIn","signOut","userGreeting","setUserGreeting","loginBtnText","setLoginBtnText","concat","userName","handleLoginClick","children","className","src","alt","to","smooth","type","onClick"],"sources":["C:/Users/Tal/Documents/Programming courses/WebDev/BackEnd/Blog_Final_Project/BlogFrontEnd/src/components/Header.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\r\nimport personallyLogo from '../images/personally-logo.svg';\r\nimport { Link, Routes, Route, BrowserRouter, Navigate } from \"react-router-dom\";\r\nimport { HashLink } from 'react-router-hash-link';\r\nimport '../styles/Header.css';\r\nimport { AuthContext } from \"../providers/auth-provider\";\r\n\r\nconst Header = () => {\r\n  const authContext = useContext(AuthContext);\r\n  const user = authContext?.user;\r\n  const signIn = authContext?.signIn;\r\n  const signOut = authContext?.signOut;\r\n\r\n  const [userGreeting, setUserGreeting] = useState(null);\r\n  const [loginBtnText, setLoginBtnText] = useState(\"Log In\");\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setUserGreeting(`Hello ${user.userName}`);\r\n      setLoginBtnText(\"Log Out\");\r\n    } else {\r\n      setUserGreeting(null);\r\n      setLoginBtnText(\"Log In\");\r\n    }\r\n  }, [user]);\r\n\r\n  const handleLoginClick = () => {\r\n    if (user) {\r\n      // User is already logged in, so log them out\r\n      signOut();\r\n    } else {\r\n      // User is not logged in, initiate the login process\r\n      signIn();\r\n    }\r\n  };\r\n\r\n  return (\r\n      <header>\r\n        <nav className=\"header-nav\">\r\n          <img src={personallyLogo} alt=\"Personally Logo\" className=\"icon\" />\r\n          <span className=\"userSpanName\">{userGreeting}</span>\r\n          <ul className=\"ul-nav\">\r\n            <li className=\"li-nav\">\r\n              <Link to=\"/\" className=\"link-nav\">Home</Link>\r\n            </li>\r\n            <li className=\"li-nav\">\r\n              <Link to=\"/posts\" className=\"link-nav\">Posts</Link>\r\n            </li>\r\n            <li className=\"li-nav\">\r\n              <Link to=\"/about\" className=\"link-nav\">About</Link>\r\n            </li>\r\n            <li className=\"li-nav\">\r\n              <Link to=\"/contact\" className=\"link-nav\">Contact</Link>\r\n            </li>\r\n            {user && user.userName && (\r\n                <li className=\"li-nav\">\r\n                  <Link to=\"/admin\" className=\"link-nav\">Admin</Link>\r\n                </li>\r\n            )}\r\n          </ul>\r\n          <HashLink smooth to=\"#subscribe\" className=\"link-nav\">\r\n            <button className=\"submitBtn\" type=\"button\">Subscribe</button>\r\n          </HashLink>\r\n          {/* Conditionally render Login button based on user existence */}\r\n          {user ? (\r\n              <button className=\"submitBtn\" type=\"button\" onClick={handleLoginClick}>\r\n                {loginBtnText}\r\n              </button>\r\n          ) : (\r\n              <Link to=\"/login\" className=\"link-nav\">\r\n                <button className=\"submitBtn\" type=\"button\">\r\n                  {loginBtnText}\r\n                </button>\r\n              </Link>\r\n          )}\r\n        </nav>\r\n      </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}