{"ast":null,"code":"import React,{useContext,useState}from'react';import{Link}from'react-router-dom';import{PostCard}from'../components/Posts';import{PostsContext}from'../providers/posts-providers';import'../styles/Posts.css';import'../styles/SearchPosts.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SearchPosts(){const{posts,searchPosts,setPosts}=useContext(PostsContext);const[formData,setFormData]=useState({from:1,to:5,searchText:'',lastName:''});const handleInputChange=event=>{const{name,value}=event.target;setFormData({...formData,[name]:value});};const handleFormSubmit=async event=>{event.preventDefault();try{// Assuming searchPosts returns the local posts for this component\nconst result=await searchPosts(formData.from,formData.to,formData.searchText,formData.lastName);setPosts(result);}catch(error){console.error('There was an error in handling the search result:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"post-cards-container\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"search-form\",onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"From:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"from\",value:formData.from,onChange:handleInputChange,min:1,max:10})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"To:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"to\",value:formData.to,onChange:handleInputChange,min:1,max:10})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Text to search:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"searchText\",value:formData.searchText,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Last name of author:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastName\",value:formData.lastName,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Search\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"second-row\",children:posts.map((post,index)=>/*#__PURE__*/_jsx(Link,{to:\"/posts/\".concat(post.id),children:/*#__PURE__*/_jsx(PostCard,{singlePost:post})},index))})]});}","map":{"version":3,"names":["React","useContext","useState","Link","PostCard","PostsContext","jsx","_jsx","jsxs","_jsxs","SearchPosts","posts","searchPosts","setPosts","formData","setFormData","from","to","searchText","lastName","handleInputChange","event","name","value","target","handleFormSubmit","preventDefault","result","error","console","className","children","onSubmit","type","onChange","min","max","map","post","index","concat","id","singlePost"],"sources":["C:/Users/Tal/Documents/Programming courses/WebDev/BackEnd/Blog_Final_Project/BlogFrontEnd/src/components/SearchPosts.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { PostCard } from '../components/Posts';\r\nimport { PostsContext } from '../providers/posts-providers';\r\nimport '../styles/Posts.css';\r\nimport '../styles/SearchPosts.css';\r\n\r\nexport default function SearchPosts() {\r\n    const { posts, searchPosts, setPosts } = useContext(PostsContext);\r\n\r\n\r\n    const [formData, setFormData] = useState({\r\n        from: 1,\r\n        to: 5,\r\n        searchText: '',\r\n        lastName: '',\r\n    });\r\n\r\n    const handleInputChange = (event) => {\r\n        const { name, value } = event.target;\r\n        setFormData({\r\n            ...formData,\r\n            [name]: value,\r\n        });\r\n    };\r\n\r\n    const handleFormSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n        try {\r\n            // Assuming searchPosts returns the local posts for this component\r\n            const result = await searchPosts(formData.from, formData.to, formData.searchText, formData.lastName);\r\n\r\n            setPosts(result);\r\n        } catch (error) {\r\n            console.error('There was an error in handling the search result:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"post-cards-container\">\r\n            <form className=\"search-form\" onSubmit={handleFormSubmit}>\r\n                <label>\r\n                    From:\r\n                    <input\r\n                        type=\"number\"\r\n                        name=\"from\"\r\n                        value={formData.from}\r\n                        onChange={handleInputChange}\r\n                        min={1}\r\n                        max={10}\r\n                    />\r\n                </label>\r\n                <label>\r\n                    To:\r\n                    <input\r\n                        type=\"number\"\r\n                        name=\"to\"\r\n                        value={formData.to}\r\n                        onChange={handleInputChange}\r\n                        min={1}\r\n                        max={10}\r\n                    />\r\n                </label>\r\n                <label>\r\n                    Text to search:\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"searchText\"\r\n                        value={formData.searchText}\r\n                        onChange={handleInputChange}\r\n                    />\r\n                </label>\r\n                <label>\r\n                    Last name of author:\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"lastName\"\r\n                        value={formData.lastName}\r\n                        onChange={handleInputChange}\r\n                    />\r\n                </label>\r\n                <button type=\"submit\">Search</button>\r\n            </form>\r\n\r\n            <div className=\"second-row\">\r\n                {posts.map((post, index) => (\r\n                    <Link key={index} to={`/posts/${post.id}`}>\r\n                        <PostCard singlePost={post} />\r\n                    </Link>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}