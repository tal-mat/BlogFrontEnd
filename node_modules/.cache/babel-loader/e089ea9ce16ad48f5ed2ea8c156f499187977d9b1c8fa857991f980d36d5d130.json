{"ast":null,"code":"import React,{useContext,useEffect,useState}from'react';import{UsersContext}from'../providers/users-provider';import'../styles/UserManagement.css';import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faTrash,faPencilAlt}from\"@fortawesome/free-solid-svg-icons\";import Modal from\"./Modal\";import{Link}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function UsersDataTable(){const{users,loading,error,RemoveUser,fetchUsersData}=useContext(UsersContext);const[showModal,setShowModal]=useState(false);const[deleteUser,setDeleteUser]=useState(null);const handleDeleteUser=user=>{setDeleteUser(user);setShowModal(true);};const confirmDeleteUser=async()=>{try{console.log(\"deleteUser: \",deleteUser);RemoveUser(deleteUser);setShowModal(false);setDeleteUser(null);}catch(error){console.error('Error deleting user:',error);}};const handleResetPassword=userId=>{// Reset password logic here\n};if(loading){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error.message]});}if(!users||users.length===0){return/*#__PURE__*/_jsx(\"p\",{children:\"No users found.\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"user-management-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Users Data Management\"}),/*#__PURE__*/_jsx(\"div\",{className:\"table-wrapper\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"user-management-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Last Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Birthdate\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Gender\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Registration Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Account Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Operations\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.id}),/*#__PURE__*/_jsx(\"td\",{children:user.firstName}),/*#__PURE__*/_jsx(\"td\",{children:user.lastName}),/*#__PURE__*/_jsx(\"td\",{children:user.username}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"ResetPasswordBtn\",onClick:()=>handleResetPassword(user.id),children:\"Password Reset\"})}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.birthDate}),/*#__PURE__*/_jsx(\"td\",{children:user.gender}),/*#__PURE__*/_jsx(\"td\",{children:user.address}),/*#__PURE__*/_jsx(\"td\",{children:user.phoneNumber}),/*#__PURE__*/_jsx(\"td\",{children:user.registrationDate}),/*#__PURE__*/_jsx(\"td\",{children:user.accountStatus?\"Active\":\"Inactive\"}),/*#__PURE__*/_jsx(\"td\",{children:user.role}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"deleteBtn\",onClick:()=>handleDeleteUser(user),children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTrash,size:\"lg\",style:{color:\"rgb(128, 128, 128)\"}})}),/*#__PURE__*/_jsx(\"button\",{className:\"editBtn\",children:/*#__PURE__*/_jsx(Link,{to:\"/admin/EditUser/\".concat(user.id),className:\"editLink\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPencilAlt,size:\"sm\",style:{color:\"rgb(128, 128, 128)\"}})})})]})]},user.id))})]})}),showModal&&/*#__PURE__*/_jsx(Modal,{message:\"Are you sure you want to delete this user?\",onConfirm:confirmDeleteUser,onCancel:()=>setShowModal(false)})]});}","map":{"version":3,"names":["React","useContext","useEffect","useState","UsersContext","FontAwesomeIcon","faTrash","faPencilAlt","Modal","Link","jsx","_jsx","jsxs","_jsxs","UsersDataTable","users","loading","error","RemoveUser","fetchUsersData","showModal","setShowModal","deleteUser","setDeleteUser","handleDeleteUser","user","confirmDeleteUser","console","log","handleResetPassword","userId","children","message","length","className","map","id","firstName","lastName","username","onClick","email","birthDate","gender","address","phoneNumber","registrationDate","accountStatus","role","icon","size","style","color","to","concat","onConfirm","onCancel"],"sources":["C:/Users/Tal/Documents/Programming courses/WebDev/BackEnd/Blog_Final_Project/BlogFrontEnd/src/components/UserManagement.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { UsersContext } from '../providers/users-provider';\r\nimport '../styles/UserManagement.css';\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTrash, faPencilAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Modal from \"./Modal\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport function UsersDataTable() {\r\n    const { users, loading, error, RemoveUser, fetchUsersData } = useContext(UsersContext);\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [deleteUser, setDeleteUser] = useState(null);\r\n\r\n\r\n    const handleDeleteUser = (user) => {\r\n        setDeleteUser(user);\r\n        setShowModal(true);\r\n    };\r\n\r\n    const confirmDeleteUser = async () => {\r\n        try {\r\n            console.log(\"deleteUser: \", deleteUser);\r\n            RemoveUser(deleteUser);\r\n            setShowModal(false);\r\n            setDeleteUser(null);\r\n        } catch (error) {\r\n            console.error('Error deleting user:', error);\r\n        }\r\n    };\r\n\r\n    const handleResetPassword = (userId) => {\r\n        // Reset password logic here\r\n    };\r\n\r\n    if (loading) {\r\n        return <p>Loading...</p>;\r\n    }\r\n\r\n    if (error) {\r\n        return <p>Error: {error.message}</p>;\r\n    }\r\n\r\n    if (!users || users.length === 0) {\r\n        return <p>No users found.</p>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"user-management-container\">\r\n            <h1>Users Data Management</h1>\r\n            <div className=\"table-wrapper\">\r\n                <table className=\"user-management-table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th>ID</th>\r\n                        <th>First Name</th>\r\n                        <th>Last Name</th>\r\n                        <th>Username</th>\r\n                        <th>Password</th>\r\n                        <th>Email</th>\r\n                        <th>Birthdate</th>\r\n                        <th>Gender</th>\r\n                        <th>Address</th>\r\n                        <th>Phone Number</th>\r\n                        <th>Registration Date</th>\r\n                        <th>Account Status</th>\r\n                        <th>Role</th>\r\n                        <th>Operations</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {users.map(user => (\r\n                        <tr key={user.id}>\r\n                            <td>{user.id}</td>\r\n                            <td>{user.firstName}</td>\r\n                            <td>{user.lastName}</td>\r\n                            <td>{user.username}</td>\r\n                            <td>\r\n                                <button className=\"ResetPasswordBtn\" onClick={() => handleResetPassword(user.id)}>\r\n                                    Password Reset\r\n                                </button>\r\n                            </td>\r\n                            <td>{user.email}</td>\r\n                            <td>{user.birthDate}</td>\r\n                            <td>{user.gender}</td>\r\n                            <td>{user.address}</td>\r\n                            <td>{user.phoneNumber}</td>\r\n                            <td>{user.registrationDate}</td>\r\n                            <td>\r\n                                {user.accountStatus ? \"Active\" : \"Inactive\"}\r\n                            </td>\r\n                            <td>{user.role}</td>\r\n                            <td>\r\n                                <button className=\"deleteBtn\" onClick={() => handleDeleteUser(user)}>\r\n                                    <FontAwesomeIcon icon={faTrash} size=\"lg\" style={{ color: \"rgb(128, 128, 128)\" }} />\r\n                                </button>\r\n                                <button className=\"editBtn\">\r\n                                    <Link to={`/admin/EditUser/${user.id}`} className=\"editLink\">\r\n                                        <FontAwesomeIcon icon={faPencilAlt} size=\"sm\" style={{ color: \"rgb(128, 128, 128)\" }} />\r\n                                    </Link>\r\n                                </button>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            {showModal && (\r\n                <Modal\r\n                    message=\"Are you sure you want to delete this user?\"\r\n                    onConfirm={confirmDeleteUser}\r\n                    onCancel={() => setShowModal(false)}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}