{"ast":null,"code":"// Post.js\nimport React,{useContext,useEffect}from'react';import{useParams}from'react-router-dom';import{PostsContext}from\"../providers/posts-providers\";import'../styles/Post.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Post(){const{id}=useParams();const{fetchPosts,getPostById}=useContext(PostsContext);useEffect(()=>{// Fetch posts when the component mounts\nfetchPosts();},[]);const currentPost=getPostById(Number(id));// Convert id to number\nif(!currentPost){return/*#__PURE__*/_jsx(\"p\",{children:\"Post isn't exist.\"});// Add a loading state if the post is not available yet\n}// Presents the title, category and date of the post\nfunction Title(){return/*#__PURE__*/_jsx(\"section\",{className:\"title-single-post-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"title-single-post-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"single-post-title\",\"data-content\":currentPost.title,children:currentPost.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"single-post-date-and-category\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"single-post-date-span\",children:currentPost&&currentPost.date}),\"\\u2022\",/*#__PURE__*/_jsx(\"span\",{className:\"single-post-category-span\",children:currentPost&&currentPost.category.replace(/_/g,' ')})]})]})});}// Presents the details of the post\nfunction Details(){return/*#__PURE__*/_jsxs(\"div\",{className:\"single-post-details-container\",children:[(currentPost===null||currentPost===void 0?void 0:currentPost.imageUrl)&&/*#__PURE__*/_jsx(\"div\",{className:\"single-post-photo-container\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://picsum.photos/id/\".concat(currentPost.id,\"/800/600\"),alt:\"Post Image\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"single-post-body-container\",children:/*#__PURE__*/_jsx(\"p\",{children:currentPost.description})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"single-post-container\",children:[/*#__PURE__*/_jsx(Title,{}),/*#__PURE__*/_jsx(Details,{})]});}export default Post;","map":{"version":3,"names":["React","useContext","useEffect","useParams","PostsContext","jsx","_jsx","jsxs","_jsxs","Post","id","fetchPosts","getPostById","currentPost","Number","children","Title","className","title","date","category","replace","Details","imageUrl","src","concat","alt","description"],"sources":["C:/Users/Tal/Documents/Programming courses/WebDev/BackEnd/Blog_Final_Project/BlogFrontEnd/src/components/Post.js"],"sourcesContent":["// Post.js\r\nimport React, { useContext, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { PostsContext } from \"../providers/posts-providers\";\r\nimport '../styles/Post.css';\r\n\r\nfunction Post() {\r\n    const { id } = useParams();\r\n    const { fetchPosts, getPostById } = useContext(PostsContext);\r\n\r\n    useEffect(() => {\r\n        // Fetch posts when the component mounts\r\n        fetchPosts();\r\n    }, []);\r\n\r\n    const currentPost = getPostById(Number(id)); // Convert id to number\r\n\r\n    if (!currentPost) {\r\n        return <p>Post isn't exist.</p>; // Add a loading state if the post is not available yet\r\n    }\r\n\r\n    // Presents the title, category and date of the post\r\n    function Title() {\r\n        return (\r\n            <section className=\"title-single-post-section\">\r\n                <div className=\"title-single-post-container\">\r\n                    <h1 className=\"single-post-title\" data-content={currentPost.title}>\r\n                        {currentPost.title}\r\n                    </h1>\r\n                    <div className=\"single-post-date-and-category\">\r\n                        <span className=\"single-post-date-span\">{currentPost && currentPost.date}</span>\r\n                        â€¢\r\n                        <span className=\"single-post-category-span\">{currentPost && (currentPost.category.replace(/_/g, ' '))}</span>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n\r\n    // Presents the details of the post\r\n    function Details() {\r\n        return (\r\n            <div className=\"single-post-details-container\">\r\n                {currentPost?.imageUrl && (\r\n                    <div className=\"single-post-photo-container\">\r\n                        <img src={`https://picsum.photos/id/${currentPost.id}/800/600`} alt='Post Image' />\r\n                    </div>\r\n                )}\r\n                <div className=\"single-post-body-container\">\r\n                    <p>{currentPost.description}</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"single-post-container\">\r\n            <Title />\r\n            <Details />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CACpD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,YAAY,KAAQ,8BAA8B,CAC3D,MAAO,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5B,QAAS,CAAAC,IAAIA,CAAA,CAAG,CACZ,KAAM,CAAEC,EAAG,CAAC,CAAGP,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAEQ,UAAU,CAAEC,WAAY,CAAC,CAAGX,UAAU,CAACG,YAAY,CAAC,CAE5DF,SAAS,CAAC,IAAM,CACZ;AACAS,UAAU,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAE,WAAW,CAAGD,WAAW,CAACE,MAAM,CAACJ,EAAE,CAAC,CAAC,CAAE;AAE7C,GAAI,CAACG,WAAW,CAAE,CACd,mBAAOP,IAAA,MAAAS,QAAA,CAAG,mBAAiB,CAAG,CAAC,CAAE;AACrC,CAEA;AACA,QAAS,CAAAC,KAAKA,CAAA,CAAG,CACb,mBACIV,IAAA,YAASW,SAAS,CAAC,2BAA2B,CAAAF,QAAA,cAC1CP,KAAA,QAAKS,SAAS,CAAC,6BAA6B,CAAAF,QAAA,eACxCT,IAAA,OAAIW,SAAS,CAAC,mBAAmB,CAAC,eAAcJ,WAAW,CAACK,KAAM,CAAAH,QAAA,CAC7DF,WAAW,CAACK,KAAK,CAClB,CAAC,cACLV,KAAA,QAAKS,SAAS,CAAC,+BAA+B,CAAAF,QAAA,eAC1CT,IAAA,SAAMW,SAAS,CAAC,uBAAuB,CAAAF,QAAA,CAAEF,WAAW,EAAIA,WAAW,CAACM,IAAI,CAAO,CAAC,SAEhF,cAAAb,IAAA,SAAMW,SAAS,CAAC,2BAA2B,CAAAF,QAAA,CAAEF,WAAW,EAAKA,WAAW,CAACO,QAAQ,CAACC,OAAO,CAAC,IAAI,CAAE,GAAG,CAAE,CAAO,CAAC,EAC5G,CAAC,EACL,CAAC,CACD,CAAC,CAElB,CAEA;AACA,QAAS,CAAAC,OAAOA,CAAA,CAAG,CACf,mBACId,KAAA,QAAKS,SAAS,CAAC,+BAA+B,CAAAF,QAAA,EACzC,CAAAF,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEU,QAAQ,gBAClBjB,IAAA,QAAKW,SAAS,CAAC,6BAA6B,CAAAF,QAAA,cACxCT,IAAA,QAAKkB,GAAG,6BAAAC,MAAA,CAA8BZ,WAAW,CAACH,EAAE,YAAW,CAACgB,GAAG,CAAC,YAAY,CAAE,CAAC,CAClF,CACR,cACDpB,IAAA,QAAKW,SAAS,CAAC,4BAA4B,CAAAF,QAAA,cACvCT,IAAA,MAAAS,QAAA,CAAIF,WAAW,CAACc,WAAW,CAAI,CAAC,CAC/B,CAAC,EACL,CAAC,CAEd,CAEA,mBACInB,KAAA,QAAKS,SAAS,CAAC,uBAAuB,CAAAF,QAAA,eAClCT,IAAA,CAACU,KAAK,GAAE,CAAC,cACTV,IAAA,CAACgB,OAAO,GAAE,CAAC,EACV,CAAC,CAEd,CAEA,cAAe,CAAAb,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}