{"ast":null,"code":"import React,{useContext}from\"react\";import{Link,useLocation}from\"react-router-dom\";import'../styles/Posts.css';import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faTrash,faPencilAlt}from\"@fortawesome/free-solid-svg-icons\";// Global State Management Objects\nimport{PostsContext}from\"../providers/posts-providers\";import{AuthContext}from\"../providers/auth-provider\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function PostCard(_ref){let{singlePost}=_ref;const{removePost}=useContext(PostsContext);const authContext=useContext(AuthContext);const user=authContext===null||authContext===void 0?void 0:authContext.user;const handleRemovePost=event=>{// Prevent the default behavior of th button click so after the click we stay at the same page\nevent.preventDefault();removePost(singlePost);};return/*#__PURE__*/_jsx(\"section\",{className:\"section-posts\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"post-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"post-details-container\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"deleteBtn-date-container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"post-date\",children:singlePost.date}),user&&user.userName&&/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"deleteBtn\",onClick:handleRemovePost,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTrash,size:\"lg\",style:{color:\"rgb(128, 128, 128)\"}})}),/*#__PURE__*/_jsx(Link,{to:\"edit/\".concat(singlePost.id),className:\"editBtn\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPencilAlt,size:\"sm\",style:{color:\"rgb(128, 128, 128)\"}})})]})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"post-title\",children:singlePost.title}),/*#__PURE__*/_jsx(\"p\",{className:\"post-description\",children:singlePost.description})]}),/*#__PURE__*/_jsx(\"div\",{className:\"post-photo-container\",children:/*#__PURE__*/_jsx(\"img\",{className:\"post-photo\",src:singlePost.imageUrl,alt:\"Post\"})})]})});}export function PostList(_ref2){let{category}=_ref2;// A component called PostList that will display a list of PostCard components by category.\nconst{filterPostsByCategory,getLastThreePostsByCategory,getAmountOfFilterPostsByCategory}=useContext(PostsContext);const location=useLocation();// Scroll to the top of the page when \"View All\" is clicked\nconst handleViewAllClick=()=>{window.scrollTo(0,0);};// If the current page is home, then show the last three updated posts by date for the category\n// as the design of the figma. If not, returns all the posts of the category\nconst posts=location.pathname==='/'||location.pathname==='/posts'?getLastThreePostsByCategory(category):filterPostsByCategory(category);return/*#__PURE__*/_jsxs(\"div\",{className:\"post-cards-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"first-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"post-cards-details-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"post-cards-title\",children:category.replace(/_/g,' ')}),/*#__PURE__*/_jsxs(\"h4\",{className:\"post-cards-amount\",children:[\"Posts: \",getAmountOfFilterPostsByCategory(category)]})]}),location.pathname!==\"/category/\".concat(category)&&/*#__PURE__*/_jsx(\"button\",{className:\"ViewAllBtn\",children:/*#__PURE__*/_jsx(Link,{to:\"/category/\".concat(category),className:\"ViewAllLink\",onClick:handleViewAllClick,children:\"View all\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"second-row\",children:posts.map((post,index)=>/*#__PURE__*/_jsx(Link,{to:\"/posts/\".concat(post.id),children:/*#__PURE__*/_jsx(PostCard,{singlePost:post})},index))})]});}","map":{"version":3,"names":["React","useContext","Link","useLocation","FontAwesomeIcon","faTrash","faPencilAlt","PostsContext","AuthContext","jsx","_jsx","jsxs","_jsxs","PostCard","_ref","singlePost","removePost","authContext","user","handleRemovePost","event","preventDefault","className","children","date","userName","Fragment","onClick","icon","size","style","color","to","concat","id","title","description","src","imageUrl","alt","PostList","_ref2","category","filterPostsByCategory","getLastThreePostsByCategory","getAmountOfFilterPostsByCategory","location","handleViewAllClick","window","scrollTo","posts","pathname","replace","map","post","index"],"sources":["C:/Users/Tal/Documents/Programming courses/WebDev/BackEnd/Blog_Final_Project/BlogFrontEnd/src/components/Posts.js"],"sourcesContent":["import React, { useContext } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport '../styles/Posts.css';\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTrash, faPencilAlt } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\n// Global State Management Objects\r\nimport { PostsContext } from \"../providers/posts-providers\";\r\nimport { AuthContext } from \"../providers/auth-provider\";\r\n\r\nexport function PostCard({ singlePost }) {\r\n    const { removePost } = useContext(PostsContext);\r\n    const authContext = useContext(AuthContext);\r\n    const user = authContext?.user;\r\n\r\n    const handleRemovePost = (event) => {\r\n        // Prevent the default behavior of th button click so after the click we stay at the same page\r\n        event.preventDefault();\r\n        removePost(singlePost);\r\n    };\r\n\r\n    return (\r\n        <section className=\"section-posts\">\r\n            <div className=\"post-container\">\r\n                <div className=\"post-details-container\">\r\n                    <span className=\"deleteBtn-date-container\">\r\n                        <span className=\"post-date\">{singlePost.date}</span>\r\n                        {user && user.userName && (\r\n                            <React.Fragment>\r\n                                <button className=\"deleteBtn\" onClick={handleRemovePost}>\r\n                                    <FontAwesomeIcon icon={faTrash} size=\"lg\" style={{ color: \"rgb(128, 128, 128)\" }} />\r\n                                </button>\r\n                                <Link to={`edit/${singlePost.id}`} className=\"editBtn\">\r\n                                    <FontAwesomeIcon icon={faPencilAlt} size=\"sm\" style={{ color: \"rgb(128, 128, 128)\" }} />\r\n                                </Link>\r\n                            </React.Fragment>\r\n                        )}\r\n                    </span>\r\n                    <h3 className=\"post-title\">{singlePost.title}</h3>\r\n                    <p className=\"post-description\">{singlePost.description}</p>\r\n                </div>\r\n                <div className=\"post-photo-container\">\r\n                    <img\r\n                        className=\"post-photo\"\r\n                        src={singlePost.imageUrl}\r\n                        alt=\"Post\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport function PostList({ category }) {\r\n    // A component called PostList that will display a list of PostCard components by category.\r\n\r\n\r\n    const { filterPostsByCategory, getLastThreePostsByCategory, getAmountOfFilterPostsByCategory } = useContext(PostsContext);\r\n    const location = useLocation();\r\n\r\n    // Scroll to the top of the page when \"View All\" is clicked\r\n    const handleViewAllClick = () => {\r\n        window.scrollTo(0, 0);\r\n    };\r\n\r\n    // If the current page is home, then show the last three updated posts by date for the category\r\n    // as the design of the figma. If not, returns all the posts of the category\r\n    const posts = (location.pathname === '/') || (location.pathname === '/posts') ? getLastThreePostsByCategory(category) : filterPostsByCategory(category);\r\n\r\n    return (\r\n        <div className=\"post-cards-container\">\r\n            {/* First Row */}\r\n            <div className=\"first-row\">\r\n                <div className=\"post-cards-details-container\">\r\n                    {/*Replace underscores with spaces for the category title*/}\r\n                    <h2 className=\"post-cards-title\">{category.replace(/_/g, ' ')}</h2>\r\n                    <h4 className=\"post-cards-amount\">Posts: {getAmountOfFilterPostsByCategory(category)}</h4>\r\n                </div>\r\n                {/* Check if it's not PostsByCategoryPage before rendering the \"Show All\" button */}\r\n                {location.pathname !== `/category/${category}` && (\r\n                    <button className=\"ViewAllBtn\">\r\n                        <Link to={`/category/${category}`} className=\"ViewAllLink\" onClick={handleViewAllClick}>\r\n                            View all\r\n                        </Link>\r\n                    </button>\r\n                )}\r\n            </div>\r\n\r\n            {/* Second Row */}\r\n            <div className=\"second-row\">\r\n                {/* The map is used to loop over the posts array, and returns a PostCard component with props for each post */}\r\n                {posts.map((post, index) => (\r\n                    <Link key={index} to={`/posts/${post.id}`}>\r\n                        <PostCard singlePost={post} />\r\n                    </Link>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}